<HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <META content="no-cache" http-equiv="pragma">
    <META content="-1" http-equiv="expires">
    <META content="text/html;charset=UTF-8" http-equiv="content-type">
    <LINK href="problem-statement.css" rel="stylesheet" type="text/css">
    <TITLE>Рапорт</TITLE>
    <SCRIPT type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {inlineMath: [['$$$','$$$']], displayMath: [['$$$$$$','$$$$$$']]}
        });
        </SCRIPT>
        <SCRIPT async="" src="https://polygon.codeforces.com/lib/MathJax/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
    </SCRIPT>
</HEAD><BODY>
    <DIV class="problem-statement"><DIV class="header"><DIV class="title">Рапорт</DIV></DIV><DIV class="tutorial"><P>Решение на <SPAN class="tex-font-style-bf">51 балл</SPAN>: Обе части рапорта можно написать, если ширина левой части рулона не меньше максимальной длины слова в первой части рапорта, и, аналогично, ширина правой части рулона не меньше максимальной длины слова во второй части рапорта. Переберем положение вертикальной черты, при котором рапорт возможно написать. После этого, проэмулируем процесс написания слов и вычислим длину рулона для данной позиции вертикальной черты. Ответом является минимальная длина рулона по всем положениям черты.</P><P>Решение на <SPAN class="tex-font-style-bf">100 баллов</SPAN>: Заметим, что при сдвигании вертикальной черты вправо (то есть, при увеличении ширины левой части рулона и уменьшении ширины правой части рулона), длина первой части рапорта будет уменьшаться, а длина второй части рапорта будет увеличиваться (длиной части рапорта назовем минимальную длину рулона, необходимую, чтобы написать эту часть рапорта на соответствующей части рулона).</P><P>Поэтому, используя двоичный поиск можно найти две соседних вертикальных черты, что если провести одну из них, левая часть будет длиннее правой, а если вторую, то наоборот. Заметим, что среди ответов для этих двух черт обязательно есть оптимальный ответ.</P><P>Для того, чтобы найти длины частей для определенной черты, нужно просто проэмулировать процесс, добавляя по одному слову.</P><P>Итоговая асимптотика: $$$O((n + m) \log w)$$$.</P></DIV></DIV>   

</BODY></HTML>