Эта задача состоит из четырех подзадач. Для некоторых подзадач выполняются дополнительные ограничения, указанные в таблице ниже. Для получения баллов за подзадачу необходимо пройти все тесты данной подзадачи, а также все тесты всех необходимых подзадач. Необходимые подзадачи также указаны в таблице.

\begin{center}
\begin{tabular}{|c|c|p{0.4\textwidth}|c|}
\hline
\textbf{Подзадача} & 
\textbf{Баллы} & 
\textbf{Ограничения} & 
\parbox{3cm}{\textbf{\centering\\Необходимые\\подзадачи\\\vspace{2mm}}} 
\\ \hline
1  & 21 & $|s| \le 12$. Также известно, что $d = 1$. &
\\ \hline
2  & 22 & $|s| \le 10^5$. Также известно, что $d = 1$ & 1
\\ \hline
3  & 32 & $|s| \le 1000$ & 1
\\ \hline
4  & 25 & Без дополнительных ограничений & 1, 2, 3
\\ \hline
\end{tabular}
\end{center}

В первых двух подзадачах гарантируется, что нельзя декодировать строку для $d \ne 1$.

