Эта задача состоит из пяти подзадач. Для некоторых подзадач выполняются дополнительные ограничения, указанные в таблице ниже.

\begin{center}
\begin{tabular}{|c|c|c|c|}
\hline
\textbf{Подзадача} & 
\textbf{Количество тестов} & 
\textbf{Дополнительные ограничения} &
\parbox{3cm}{\textbf{\centering\\Необходимые\\подзадачи\\\vspace{2mm}}} 
\\ \hline
1  & 5 & $n \cdot m \leq 3000$ & {---}
\\ \hline
2  & 5 & $n, m \leq 300$ & {---}
\\ \hline
3  & 5 & $n = 1$ или $m = 1$ & {---}
\\ \hline
4  & 5 & $p \leq 5000$ & {---}
\\ \hline
5  & 30 & {---} & {1, 2, 3, 4}
\\ \hline
\end{tabular}
\end{center}


Каждый тест в каждой подзадаче оценивается независимо, в 2 балла.